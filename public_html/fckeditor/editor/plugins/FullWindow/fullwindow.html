<html><head><title>FullWindow</title>
<script src="../../../fckeditor.js"></script>

<style>
body { margin: 0; background: #efefde; }
</style>

</head>
<body>
<script>
	if ( !dialogArguments )
		dialogArguments = window.opener.FCKLastDialogInfo ;

	var oEditor 	= dialogArguments.Editor;
	var FCK			= oEditor.FCK ;
	var FCKConfig	= oEditor.FCKConfig ;  
	
	var oFCKeditor = new FCKeditor('FCKeditor1', '100%', '100%' ,'NewToolbarClose') ;
	oFCKeditor.BasePath = '../../../';
	
	//get content from opener fck
	oFCKeditor.Value = ( FCKConfig.EnableXHTML && FCKConfig.EnableSourceXHTML ? FCK.GetXHTML( FCKConfig.FormatSource ) : FCK.GetHTML( FCKConfig.FormatSource ) )

  
	var loadConfig = new Array('EditorAreaCSS', 'StylesXmlPath', 'AutoDetectLanguage', 'DefaultLanguage', 'LinkBrowserURL', 
								 'ImageBrowserURL', 'SkinPath', 'BaseHref');
	
	
	for(var i = 0; i < loadConfig.length; i++)
		eval("oFCKeditor.Config['"+loadConfig[i]+"'] = FCKConfig."+loadConfig[i]+";");
	
	oFCKeditor.Create() ;
  
	window.onunload = closeWindow;
	
	function closeWindow(){
		var oFCKeditor = FCKeditorAPI.GetInstance('FCKeditor1');
		FCK.SetHTML(oFCKeditor.GetXHTML(FCKConfig.FormatSource));
		oEditor.focus();
	}

</script>
</body></html>
