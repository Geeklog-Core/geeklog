<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Geeklog Documentation - Changes</title>
  <link rel="stylesheet" type="text/css" href="docstyle.css" title="Dev Stylesheet">
</head>

<body>
<table cellpadding="2" cellspacing="2" border="0" width="100%">
<tr>
  <td valign="top"><img src="images/newlogo.gif" alt="Geeklog Documentation" width="235" height="90" border="0"></td>
</tr>
<tr>
  <td valign="top" class="menu"><a href="index.html">Geeklog Documentation</a> - Changes</td>
</tr>
</table>

<h1>Changes</h1>

<p>This document is intended to give a quick overview over the most import
and / or obvious changes. For a detailed list of changes, please consult the
<a href="history">ChangeLog</a>.</p>

<h2>Geeklog 1.3.7</h2>

<h3>New Features</h3>

<ul>
  <li>A notification email can now be sent when a new story, link, or event
    has been submitted or a new user has registered with the site (see the
    <a href="config.html#submission">submission settings</a> for details).<br>
    Please note that this feature doesn't tie in with Geeklog's security
    features - it's really more of a hack, since many people asked for this
    functionality.</li>
  <li>Following the "X stories in last 24 hours" link in the What's New block
    will now display just those new stories.</li>
  <li>User photos are now resized, just like images in stories (if the use
    of an image library is configured). The max. dimensions for user photos
    can be set with a separate set of config variables in
    <tt>config.php</tt>.</li>
  <li>The plugin menu now lists all plugins which exist in the file system
    but haven't been installed yet. It also provides a link to the install
    script of those plugins for easy installation.</li>
  <li>Several new config variables have been added to config.php (notification,
    showfirstasfeatured, dateonly, timeonly, skip_preview, upcomingeventsrange,
    emailstoryloginrequired, hideemailicon, hideprintericon, hidenewstories,
    hidenewcomments, hidenewlinks, max_photo_width, max_photo_height,
    max_photo_size).  Please see the <a 
    href="config.php">config documentation</a> for details.</li>
  <li>Theme changes: Please consult the <a href="theme.html#changes">themes 
    documentation</a> for a list of changes.</li>
</ul>


<h3>Bugfixes</h3>

<ul>
  <li>Added sanity checks in the Admin story editor to prevent loss of all
    stories with incomplete language files (or when manipulating the URL).</li>
  <li>Fixed a nasty bug in lib-security.php that let any user with UserAdmin
    permissions change the Root user's password, thus effectively becoming
    root.</li>
  <li>Fixed problems with blocks disappearing when they were set to
    "homeonly".</li>
  <li>Fixed problems with multiple [code] ... [/code] sections in stories
    and comments.</li>
  <li>Fixed double line spacing in [code] sections and HTML-formatted comments
    on PHP 4.2.0 and up.</li>
  <li>Fixed problems with slashes and HTML entities in emails sent by
    Geeklog.</li>
  <li>Fixes and improvements to the plugin API.</li>
</ul>

<p><strong>Contributors:</strong> Blaine Lang, Vincent Furia, and Kenn Osborne
have contributed to this release. Thank you!</p>

<h3><a name="addindex">Speeding up Geeklog (a bit)</a></h3>

<p>If you're upgrading from 1.3.6 or older versions, you may want to run the
script called <tt>addindex.php</tt> that you will find in the <tt>install</tt>
directory. This script adds index fields to some of Geeklog's database tables
which should improve overall access times a bit.</p>

<p>This has been implemented as a separate script (and not as part of the
upgrade process of the install script) since it may take some time to run,
depending on how many users / stories / etc. you have in your database. Some
people may even run into timeouts, e.g. when their hosting service limits the
execution time of PHP scripts. If that happens to you - <strong>Don't 
Panic</strong>. Simply run the script again (and again and ...) until it
reports that it didn't add any fields to any tables.</p>

<p>Please note that you do <em>not</em> need to run this script if you're doing
a fresh install of Geeklog 1.3.7. A fresh install already has the new index
fields.</p>


<h2>Geeklog 1.3.6</h2>

<h3>New Features</h3>

<ul>
  <li>Images in articles can now be resized automatically during upload
    (provided you have either ImageMagick or netpbm installed). See the
    <a href="config.html#image">configuration description</a> for details.</li>
  <li>The contents of a static page entitled "Frontpage" will be displayed
    before the first story on the front page of a Geeklog site. If the static
    page additionally carries the label "nonews", then it will completely
    replace the news on the front page.</li>
  <li>User submission queue: When activated (in <tt><a
    href="config.html#submission">config.php</a></tt>), new users will need to
    be approved by an admin before they receive their password.</li>
  <li>The submission queues can be switched off separately, either completely
    (in <tt><a href="config.html#submission">config.php</a></tt>) or only for
    certain groups of users (by using the new features story.submit,
    links.submit, and event.submit).</li>
  <li>When posting source code (e.g. PHP, HTML, ...), you can now use the
    [code] ... [/code] pseudo tags to enclose those portions of your posting
    that should be reproduced verbatim.</li>
  <li>The links section now uses a categorized and paged display (can be
    <a href="config.html#links">switched off</a> separately and even back to the
    pre-1.3.6 style listing).</li>
  <li>Anonymous users can now be <a href="config.html#login">blocked</a> from
    almost every part of the site (e.g. links section, site stats, ...), if
    needed.</li>
  <li>A Geeklog site can now be disabled easily (e.g. for maintenance) by
    setting a flag in <tt><a href="config.html#site">config.php</a></tt>.</li>
  <li>Theme changes: Please consult the <a href="theme.html#changes">themes 
    documentation</a> for a list of changes.</li>
</ul>

<h3>Bugfixes</h3>

<ul>
  <li>Several fixes have been made to ensure that permissions are taken into
    account properly (e.g. not revealing titles of stories that the user has no
    access to).</li>
  <li>Several fixes have been made to make sure that Geeklog can now be
    properly localized (provided you have a language file that is up to date
    and have chosen the proper <a href="config.html#locale">locale settings</a>
    for your country and language).</li>
  <li>The variable $_CONF['site_admin_url'] is now used properly so that you
    can rename Geeklog's <tt>admin</tt> directory if needed.</li>
  <li>New RDF parser will now import most (if not all) RDF news feeds
    properly</li>
</ul>

<h3>Notes</h3>

<ul>
  <li>Since there are a lot of new variables in <tt>config.php</tt>, it is
    recommended you start with a fresh copy of that file instead of copying
    over your old <tt>config.php</tt> from your previous installation.</li>
  <li>Please note that currently only the English, German, Italian, Polish,
    and Japanese language files are up to date. Using one of the other
    language files may result in your Geeklog site not working properly.</li>
</ul>

<p><strong>Contributors:</strong> Gene Wood, Blaine Lang, Tom Willet, and
Roger Webster have contributed to this release. Thank you!</p>

<table border="0" width="100%" class="footer">
<tr valign="top">
  <td colspan="2"><a href="http://geeklog.sf.net">The Geeklog Documentation Project</a><br>
    All trademarks and copyrights on this page are owned by their respective owners. GeekLog is copyleft.</td>
</tr>
</table>

</body>
</html>
